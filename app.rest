@base = http://localhost:3000
@accessToken = 
@refreshToken = 
@postId = 
@commentId = 
@userId = 

### Register User (step 1)
POST {{base}}/auth/register
Content-Type: application/json

{
  "username": "testuser",
  "email": "test@example.com",
  "password": "123456"
}

### Login with email (step 2 - then copy tokens to variables above)
POST {{base}}/auth/login
Content-Type: application/json

{
  "identifier": "test@example.com",
  "password": "123456"
}

### Login with username
POST {{base}}/auth/login
Content-Type: application/json

{
  "identifier": "testuser",
  "password": "123456"
}

### Refresh Token
GET {{base}}/auth/refresh
Authorization: Bearer {{refreshToken}}

### Logout
POST {{base}}/auth/logout
Authorization: Bearer {{refreshToken}}

### Get My User Info
GET {{base}}/users/me
Authorization: Bearer {{accessToken}}

### Update My User Info
PUT {{base}}/users
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "username": "updateduser",
  "email": "updated@example.com",
  "password": "newpass123"
}

### Get All Posts
GET {{base}}/posts

### Get Post by ID
GET {{base}}/posts/{{postId}}

### Get My Posts
GET {{base}}/posts/user/me
Authorization: Bearer {{accessToken}}

### Create Post
POST {{base}}/posts
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "message": "This is my first post!"
}

### Update Post
PUT {{base}}/posts/{{postId}}
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "message": "This is my updated post!"
}

### Delete Post
DELETE {{base}}/posts/{{postId}}
Authorization: Bearer {{accessToken}}

### Get All Comments
GET {{base}}/comments
Authorization: Bearer {{accessToken}}

### Get Comment by ID
GET {{base}}/comments/{{commentId}}
Authorization: Bearer {{accessToken}}

### Get Comments for a Post
GET {{base}}/posts/{{postId}}/comments
Authorization: Bearer {{accessToken}}

### Create Comment
POST {{base}}/comments
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "text": "Great post!",
  "post": "{{postId}}"
}

### Update Comment
PUT {{base}}/comments/{{commentId}}
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "text": "Updated comment text"
}

### Delete Comment
DELETE {{base}}/comments/{{commentId}}
Authorization: Bearer {{accessToken}}